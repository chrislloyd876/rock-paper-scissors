<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <title>Rock Paper Scissors</title>
    </head>
    <body>
        <script>
            // get computer choice for game
            function getComputerChoice() {
                const choices = ["rock","paper","scissors"];
                let choice = choices[Math.floor(Math.random()*choices.length)];
                return choice;
            };
            
            //setting all inputs for the game
            let playerSelection = " ";
            let computerSelection = " ";
            playerWin = "You win this round!";
            computerWin = "Computer wins this round!";
            draw = "Draw! Try again.";

            let playerScore = 0;
            let computerScore = 0;
            let drawScore = 0;

            // play one round of game
            function playRound(playerSelection, computerSelection){

                playerSelection = prompt("Enter Rock, Paper or Scissors").toLowerCase();
                computerSelection = getComputerChoice();

                console.log("Player: " + playerSelection);
                console.log("Computer: " + computerSelection);
                let result = " ";
                // if selection is the same
                if(playerSelection == computerSelection){
                    result  = draw;
                }
                //if player chooses rock
                else if(playerSelection == "rock" && computerSelection =="scissors"){
                    result = playerWin;
                }
                //if player chooses paper
                else if(playerSelection == "paper" && computerSelection =="rock"){
                    result = playerWin;
                }
                // if player chooses scissors
                else if(playerSelection == "scissors" && computerSelection == "paper"){
                    result = playerWin;
                }
                else{
                    result = computerWin;
                }
                
                return result;
            }
            //playing one round
            //console.log(playRound(playerSelection, "computerSelection"));

            //getting scores
            function getScore(result){
                if (result === playerWin){
                    playerScore++;
                }
                else if(result === computerWin){
                    computerScore++;
                }
                else{
                    drawScore++;
                }
                console.log("player score: " + playerScore);
                console.log("computer score: " + computerScore);
                console.log("Draws: " + drawScore);
            }


            //full game
            function game(){
                play = playRound(playerSelection.toLowerCase(), computerSelection);
                console.log(play);
                getScore(play);
                play = playRound(playerSelection.toLowerCase(), computerSelection);
                console.log(play);
                getScore(play);
                play = playRound(playerSelection.toLowerCase(), computerSelection);
                console.log(play);
                getScore(play);
                play = playRound(playerSelection.toLowerCase(), computerSelection);
                console.log(play);
                getScore(play);
                play = playRound(playerSelection.toLowerCase(), computerSelection);
                console.log(play);
                getScore(play);
                
                //end of game results 
                if(playerScore > computerScore){
                    console.log("Congratulations! You won!");
                }
                else if(computerScore > playerScore){
                    console.log("You lose! :( Better luck next time.");
                }
                else{
                    console.log("The game is a draw!");
                }
            }
            // running full game
            game();
        </script>
    </body>
</html>